"use strict";(self.webpackChunkapp_name=self.webpackChunkapp_name||[]).push([[868],{6414:(t,e,s)=>{s.d(e,{T$:()=>c,aA:()=>a,cJ:()=>i});var r=s(6862);const a=t=>{const e={wishlist_id:t.id};return r.axiosWithAuthentication.post("wishlist/delete/",e)},i=t=>r.axiosWithAuthentication.post("wishlist/in-wishlist/",{product_variant:t}),c=t=>{const e={product_variant:t};return r.axiosWithAuthentication.post("wishlist/add/",e)}},868:(t,e,s)=>{s.r(e),s.d(e,{default:()=>g});var r=s(2791),a=s(1087),i=s(7689),c=s(6862),o=s(6414),d=s(3537),n=s(2202),l=s(184);class h extends r.Component{constructor(t){super(t),this.fetchWishlist=()=>{c.axiosWithAuthentication.get("wishlist/").then((t=>{this.setState({wishlistProducts:t.data}),this.setState({checkedData:!0})})).catch((t=>{this.setState({checkedData:!0})}))},this.state={wishlistProducts:null,checkedData:!1}}componentDidMount(){this.fetchWishlist()}deleteWishlist(t,e){t.currentTarget.childNodes[1].hidden=!0,t.currentTarget.childNodes[0].hidden=!1,(0,o.aA)({id:e}).then((t=>{this.fetchWishlist()})).catch((t=>{console.log(t)}))}render(){const{wishlistProducts:t,checkedData:e}=this.state;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h4",{className:"text-center mb-5",children:"Wishlist"}),t&&t.map((t=>(0,l.jsxs)("div",{className:"wishlist-product-container",children:[(0,l.jsx)(a.rU,{to:"/".concat(t.product_variant.product_color_variant.product.category.slug,"/").concat(t.product_variant.product_color_variant.product.slug,"/").concat(t.product_variant.product_color_variant.color.name,"/").concat(t.product_variant.size.name,"/").concat(t.product_variant.product_color_variant.product.id,"/"),className:"wishlist-product-image",children:(0,l.jsx)("div",{className:"image",children:(0,l.jsx)("img",{src:t.product_variant.product_color_variant.image1?t.product_variant.product_color_variant.image1:t.product_variant.product_color_variant.product.image_main,alt:"wishilist-product.jpg"})})}),(0,l.jsxs)("div",{className:"wishlist-product-details",children:[(0,l.jsx)("h6",{children:(0,d.Nr)({product:t.product_variant})}),(0,d.e3)(t.product_variant)]}),(0,l.jsxs)("div",{className:"wishlist-product-delete-btn-container",onClick:e=>this.deleteWishlist(e,t.id),children:[(0,l.jsx)("div",{id:"wishlist-delete-loader-"+t.id,hidden:!0,className:"wishlist-delete-loader"}),(0,l.jsx)("div",{children:(0,l.jsx)(n.AMf,{})})]})]},t.id))),!e&&(0,l.jsx)("h6",{children:"Loading ....."}),e&&t&&0===t.length&&(0,l.jsx)("h6",{children:"you have no items in your wishlist"})]})}}const u=h;var p=s(9548);class m extends r.Component{constructor(t){super(t),this.state={orderProducts:null,checkedData:!1}}componentDidMount(){this.fetchOrders()}fetchOrders(){c.axiosWithAuthentication.get("orders/").then((t=>{this.setState({orderProducts:t.data}),this.setState({checkedData:!0})})).catch((t=>{this.setState({checkedData:!0})}))}render(){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h4",{className:"text-center mb-5",children:"Orders"}),this.state.orderProducts&&this.state.orderProducts.map((t=>(0,l.jsxs)("div",{className:"wishlist-product-container",children:[(0,l.jsx)(a.rU,{to:"/".concat(t.product_variant.product_color_variant.product.category.slug,"/").concat(t.product_variant.product_color_variant.product.slug,"/").concat(t.product_variant.product_color_variant.color.name,"/").concat(t.product_variant.size.name,"/").concat(t.product_variant.product_color_variant.product.id,"/"),className:"wishlist-product-image",children:(0,l.jsx)("div",{className:"image",children:(0,l.jsx)("img",{src:t.product_variant.product_color_variant.image1?t.product_variant.product_color_variant.image1:t.product_variant.product_color_variant.product.image_main,alt:"ordered-product.jpg"})})}),(0,l.jsxs)("div",{className:"wishlist-product-details",children:[(0,l.jsx)("h6",{children:(0,d.Nr)({product:t.product_variant})}),(0,l.jsx)("h6",{children:(0,d.e3)(t.product_variant)}),(0,l.jsxs)("p",{children:["Order ID : ",t.order_id]}),(0,l.jsxs)("p",{children:["Date : ",t.ordered_date]}),"Cancelled"===t.status?(0,l.jsxs)("p",{className:"text-danger",children:["Status : ",t.status]}):(0,l.jsxs)("p",{className:"text-success",children:["Status : ",t.status]})]}),(0,l.jsx)(a.rU,{to:"/user/dashbord/orders/".concat(t.order_id,"/").concat(t.id),className:"btn btn-primary h-25",children:"Details"})]},t.id))),!this.state.checkedData&&(0,l.jsx)("h6",{children:"Loading ....."}),this.state.orderProducts&&0===this.state.orderProducts.length&&(0,l.jsx)("h6",{children:"You have not ordered anything"})]})}}const x=(0,p.Z)(m);class _ extends r.PureComponent{constructor(t){super(t),this.fetchProfile=()=>{c.axiosWithAuthentication.get("user/profile/").then((t=>{this.setState({profile:t.data})})).catch((t=>{}))},this.fetchOrderAddress=()=>{c.axiosWithAuthentication.get("order-address/").then((t=>{t.data[0]&&this.setState({orderAddress:t.data})})).catch((t=>{}))},this.state={profile:null,orderAddress:[]}}componentWillUnmount(t,e){e!==this.state&&(this.fetchProfile(),this.fetchOrderAddress())}componentDidMount(){this.fetchProfile(),this.fetchOrderAddress()}render(){const{profile:t,orderAddress:e}=this.state;return(0,l.jsx)("div",{className:"profile-main-container",children:(0,l.jsxs)("div",{className:"profile-details-section",children:[t?(0,l.jsx)("div",{className:"profile-pic",children:(0,l.jsx)("img",{src:"m"===t.profile_image[1]?c.baseUrl+t.profile_image:t.profile_image,alt:"user.jpg"})}):null,(0,l.jsxs)("div",{className:"profile-name-email",children:[(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),t&&(0,l.jsx)("h6",{children:"Hello ".concat(t.first_name," ").concat(t.last_name)},"name"),t&&(0,l.jsxs)("h6",{children:["Email :",t.email]},"e-mail")]}),(0,l.jsxs)("div",{className:"user-order-address",children:[(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),(0,l.jsx)("h5",{children:"Order Address"}),e&&e.map(((t,e)=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"each-order-address",children:[(0,l.jsxs)("h6",{children:["Address ",e+1]}),(0,l.jsx)("div",{children:t.full_name}),(0,l.jsx)("div",{children:t.mobile}),(0,l.jsxs)("div",{children:[t.state,", ",t.city_district_town,", ",t.pincode]})]}),(0,l.jsx)("br",{})]})))]})]})})}}const v=_;class j extends r.Component{constructor(t){super(t),this.logOutReq=()=>{this.setState({loading:!0}),c.axiosWithAuthentication.post("user/logout/",{refresh_token:localStorage.getItem("refresh_token")}).then((t=>{this.setState({currentUser:!1}),localStorage.removeItem("refreshToken"),localStorage.removeItem("accessToken"),window.location.href="/"})).catch((t=>{this.setState({loading:!1})}))},this.state={currentUser:!1,loading:!1}}render(){const{menu:t}=this.props.dash_param;return(0,l.jsxs)("div",{className:"dashbord-main-container",children:[(0,l.jsxs)("div",{className:"profile-menu-section",children:[(0,l.jsx)(a.OL,{to:"/user/dashbord/profile/",className:"dashbord-link",children:"Profile"}),(0,l.jsx)(a.OL,{to:"/user/dashbord/wishlist/",className:"dashbord-link",children:"Wishlist"}),(0,l.jsx)(a.OL,{to:"/user/dashbord/orders/",className:"dashbord-link",children:"Orders"}),(0,l.jsx)("hr",{}),this.state.loading?(0,l.jsx)("div",{className:"dashbord-link loader-container",children:(0,l.jsx)("div",{className:"loader"})}):(0,l.jsx)("div",{onClick:this.logOutReq,className:"dashbord-link",children:"Logout"})]}),(0,l.jsxs)("div",{className:"section-details-view",children:["profile"===t&&(0,l.jsx)("div",{hidden:!1,className:"menu-component Profile",value:"Profile",children:(0,l.jsx)(v,{})}),"wishlist"===t&&(0,l.jsx)("div",{hidden:!1,className:"menu-component Wishlist",value:"Wishlist",children:(0,l.jsx)(u,{})}),"orders"===t&&(0,l.jsx)("div",{hidden:!1,className:"menu-component Orders",value:"Orders",children:(0,l.jsx)(x,{})})]})]})}}const g=(0,p.Z)((function(){const t=(0,i.s0)(),e=(0,i.UO)();return(0,l.jsx)(j,{navigate:t,dash_param:e})}))},3537:(t,e,s)=>{s.d(e,{G:()=>d,IF:()=>o,Nr:()=>a,e3:()=>c,vN:()=>i});var r=s(184);const a=t=>{if(!t)return;let e=t.product.product_color_variant.product.name,s=i(t.product);return e.length>40?"".concat(e.slice(0,40)," ").concat(s):"".concat(e," ").concat(s)},i=t=>{if(!t)return;const e=t.product_color_variant.color.name,s=t.size.name;let r="";return"no-color"!==e&&null!==e&&(r+="(".concat(e)),r+="no-size"!==s&&null!==s?r?", ".concat(s,")"):"(".concat(s,")"):")",r},c=t=>(0,r.jsxs)("h6",{className:"card-title",children:["Rs.",t.price-t.price/100*t.offer,(0,r.jsxs)("span",{className:"text-secondary text-decoration-line-through ms-2",children:["Rs.",t.price]}),(0,r.jsxs)("span",{className:"text-success ms-2",children:[t.offer,"%"]})]}),o=t=>{const e=t.product_color_variant.product.category.slug,s=t.product_color_variant.product.slug,r=t.product_color_variant.color.name,a=t.size.name,i=t.product_color_variant.product.id;return"/".concat(e,"/").concat(s,"/").concat(r,"/").concat(a,"/").concat(i,"/")},d=t=>t.product_color_variant.image1?t.product_color_variant.image1:t.product_color_variant.product.image_main},9548:(t,e,s)=>{s.d(e,{Z:()=>i});var r=s(7689),a=s(184);const i=t=>e=>localStorage.getItem("accessToken")?(0,a.jsx)(t,{...e}):(0,a.jsx)(r.Fg,{to:"/"})}}]);
//# sourceMappingURL=868.b0ef84a3.chunk.js.map